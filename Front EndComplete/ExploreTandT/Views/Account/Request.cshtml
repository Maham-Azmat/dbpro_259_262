@model ExploreTandT.Models.UserAccountViewModel

@{
    ViewBag.Title = "request";
}

<div id="Admin_Account">
    <div class="container">
        <h1 class="AdminAccount"></h1>
        <div class="AdminAccount-form">


            <h2 class="Column2" style="color:black">Employee</h2>
            <!--<span class="glyphicon glyphicon-user" aria-hidden="true"></span>-->
            <a href="~/Account/Index/" type="button" class="btn btn-primary btn-responsive"> Back</a>
            <p class="listText" style="color:black">Loans Request's Status</p>

            <div class="table-responsive" style="color: #000000">
                <table class="table table-Simple" style="color:black">
                    <thead class="Column1" style="color:black">
                        <tr>

                            <th scope="col"> @Html.DisplayNameFor(model => model.listofrequests[0].Id)</th>
                            <th scope="col"> @Html.DisplayNameFor(model => model.listofrequests[0].LoanId)</th>
                            <th scope="col">  @Html.DisplayNameFor(model => model.listofrequests[0].Status)</th>
                            <th scope="col"> @Html.DisplayNameFor(model => model.listofrequests[0].Details)</th>



                        </tr>
                    </thead>
                    <tbody style="color:black">
                        @foreach (var item in Model.listofrequests)
                        {
                        <tr>

                            <th scope="row">
                                @Html.DisplayFor(modelItem => item.Id)
                            </th>
                            <td>
                                @Html.DisplayFor(modelItem => item.LoanId)
                            </td>

                            @if (item.Status == 5)
                            {
                                <td style="color:black">
                                    <p>Pending</p>
                                </td>

                            }
                            else if (item.Status == 4)
                            {
                                <td style="color:black">
                                    <p>Reject</p>
                                </td>
                            }
                            else
                            {
                                <td style="color:black">
                                    <p>Accept</p>
                                </td>
                            }

                            <td>
                                @Html.DisplayFor(modelItem => item.Details)
                            </td>
                            <td>
                                @{
                                    if (item.Status == 3)
                                    {
                                        @Html.ActionLink("Proceed", "Index", "EmployeeLoan", new { id = item.LoanId }, new { @class = "btn btn-primary btn-responsive" })

                                    }
                                    else
                                    {
                                        <a class="btn btn-primary" type="button" href="~/Account/request/" onclick="return confirm('You cannot proceed to this loan because your request is not accepted');">Proceed</a>
                                    }
                                }
                            </td>

                        </tr>
                        }

                    </tbody>
                </table>

            </div>
        </div>

    </div>
</div>

